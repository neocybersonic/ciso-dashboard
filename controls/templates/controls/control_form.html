{% extends "base.html" %}
{% load widget_tweaks %}
{% block content %}
<div class="mx-auto max-w-3xl p-6">
  <h1 class="text-2xl font-semibold text-slate-900 dark:text-slate-100 mb-6">Add Control</h1>

  <form method="post" class="bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-sm p-6 space-y-5">
    {% csrf_token %}
    {{ form.non_field_errors }}

    {% for field in form %}
      <div>
        <label class="block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1">{{ field.label }}</label>
        {% if field.field.widget.input_type == "checkbox" %}
          {{ field|add_class:"h-4 w-4 rounded border-slate-300 dark:border-slate-600" }}
        {% else %}
          {{ field|add_class:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 px-3 py-2 focus:outline-none focus:ring focus:ring-indigo-300 dark:focus:ring-indigo-700" }}
        {% endif %}
        {% if field.help_text %}
          <p class="mt-1 text-xs text-slate-500 dark:text-slate-400">{{ field.help_text }}</p>
        {% endif %}
        {% for e in field.errors %}
          <p class="mt-1 text-xs text-red-600 dark:text-red-400">{{ e }}</p>
        {% endfor %}
      </div>
    {% endfor %}

    <div class="flex gap-2 pt-2">
      <button type="submit" class="btn-primary text-sm">Save</button>
<a href="{% url 'controls:list' %}" class="px-4 py-2 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Cancel</a>

    </div>
  </form>
</div>
{% endblock %}
